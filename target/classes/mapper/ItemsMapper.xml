<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dao.ItemsDao" >
    <resultMap id="BaseResultMap" type="items" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed May 23 15:09:39 CST 2018.
        -->
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="name" property="name" jdbcType="VARCHAR" />
        <result column="price" property="price" jdbcType="REAL" />
        <result column="pic" property="pic" jdbcType="VARCHAR" />
        <result column="createtime" property="createtime" jdbcType="TIMESTAMP" />
        <result column="totalcount" property="totalcount" javaType="INTEGER"/>
        <result column="remaincount" property="remaincount" javaType="INTEGER"/>
    </resultMap>
    <resultMap id="ResultMapWithBLOBs" type="items" extends="BaseResultMap" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed May 23 15:09:39 CST 2018.
        -->
        <result column="detail" property="detail" jdbcType="LONGVARCHAR" />
    </resultMap>

    <!--查找所有-->
    <select id="findAllItems" resultType="items">
        SELECT  * FROM items;
    </select>



    <!--增加-->
    <insert id="insert" parameterType="items">
        insert into items (name, price,
      pic, createtime, detail, totalcount, remaincount
      )
    values ( #{name,jdbcType=VARCHAR}, #{price,jdbcType=REAL},
      #{pic,jdbcType=VARCHAR}, #{createtime,jdbcType=TIMESTAMP}, #{detail,jdbcType=LONGVARCHAR},
      #{totalcount,jdbcType=INTEGER},#{remaincount,jdbcType=INTEGER}
      )
    </insert>

    <!--更新-->
    <update id="update" parameterType="items">
        update items
        <set >
            <if test="name != null" >
                name = #{name,jdbcType=VARCHAR},
            </if>
            <if test="price != null" >
                price = #{price,jdbcType=REAL},
            </if>
            <if test="totalcount != null" >
                totalcount = #{totalcount},
            </if>
            <if test="remaincount != null" >
                remaincount = #{remaincount},
            </if>

            <if test="pic != null" >
                pic = #{pic,jdbcType=VARCHAR},
            </if>
            <if test="createtime != null" >
                createtime = #{createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="detail != null" >
                detail = #{detail,jdbcType=LONGVARCHAR},
            </if>


        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>

    <!--删除-->
    <delete id="delete" parameterType="java.lang.Integer">
        delete from items
        where id = #{id,jdbcType=INTEGER}
    </delete>

    <!--通过id查询-->
    <select id="findById" parameterType="java.lang.Integer" resultType="items">
        select * from items
        where id = #{id,jdbcType=INTEGER}
    </select>


</mapper>